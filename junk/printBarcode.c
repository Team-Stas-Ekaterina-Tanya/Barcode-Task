#include <stdio.h>
#define MAX 128
// #include "Barcode.h"
// #include "helper_func.c"

double data[] = {
    0.9,0.9,0.88,0.82,0.80,0.22,0.77,0.27,0.20,0.78, 
    0.21,0.18,0.80,0.20,0.82,0.17,0.77,0.2,0.17,0.7,
    0.15,0.68,0.13,0.66,0.11,0.12,0.61,0.12,0.62,0.14,
    0.61,0.16,0.15,0.64,0.14,0.62,0.13,0.60,0.14,0.10,
    0.59,0.11,0.1,0.56,0.1,0.52,0.09,0.51,0.1,0.07,
    0.48,0.1,0.48,0.11,0.1,0.5,0.14,0.57,0.18,0.21,
    0.63,0.21,0.68,0.26,0.74,0.31,0.82,0.38,0.39,0.92,
    0.42,0.48,0.93,0.51,0.94,0.61,0.92,0.93,0.91,0.98,
    0.91,0.12,0.97,0.92,0.91,0.97,0.94,0.88,0.86,0.81};
/*
1,1,1,1,1,0,1,0,0,1,  01
0,0,1,0,1,0,1,0,0,1,  1001
0,1,0,1,0,0,1,0,1,0,  00100
1,0,0,1,0,1,0,1,0,0,  1001
1,0,0,1,0,1,0,1,0,0,  1001
0,0,0,0,0,0.5,0,1,0,0, 11101 || 11001
1,0,1,0,1,0,1,0,0,1,  0001
0,0,1,1,1,1,1,1,1,1,  1
1,0,1,1,1,1,1,1,1,1   0


01100 10010 01001 10011 11010 00110


01100 10010 01001 10011 11000 110  - Stas
01100 10010 01001 10011 00100 0110 - 0.5 == 1 - Stas
01100 10010 01001 10010 10100 01100 - Expected
01100 10010 01001 10011 10100 0110  - Tanya
*/
double data2[] = {
    1,1,0,1,0,1,0,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,
    1,0,1,0,0,1,0,0,1,0,0,1,0,1,0,1,0,0,1,0,1,0,1,0,0,1,0,1,0,1,0,1,
    0,1,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,
    0,1,0,1,0,0,1,0,1,0,1,0,0,1,0,1,0,1,0,0,1,0,0,1,0,1,1,1,1,1,1,1};

double data3[] = {0.91,0.92,0.99,0.97,0.91,0.97,0.94,0.88,0.86,0.81,
0.91,0.62,0.97,0.92,0.91,0.97,0.94,0.88,0.86,0.81,
0.90,0.82,0.91,0.91,0.91,0.92,0.94,0.98,0.96,0.99,
0.9,0.9,0.88,0.82,0.80,0.22,0.77,0.27,0.20,0.78,
0.21,0.18,0.80,0.20,0.82,0.17,0.77,0.2,0.17,0.7};

void roundData(double data[]) {
    for (int i = 0; i < MAX; i++) {
        data[i] = (data[i] >= 0 && data[i] < 0.5) ? 0 : 1;
    }
} 

void printBarcode(double data[]) {
    roundData(data);
    for (int i = 0; i < MAX;) {
        for (int j = 0; j < 10; j++) {
            printf("%.lf ", data[i++]);
        }
        printf("\n");

    }
    printf("\n");

}

void generateBits(double data2[]) {
    for (int i = 0; i < MAX; i++) {
        if (data[i] == 1) continue;
        if (data[i] == 0 && data[i + 1] == 1) {
            printf("%d ", 0);
        } else if (data[i] == 0 && data[i + 1] == 0) {
            printf("%d ", 1);
            i += 2;
        }
    }
}



int main() {
    printBarcode(data2);
    generateBits(data2);
    
    return 0;
}

/* 
1 1 1 1 1 0 1 0 0 1 
0 0 1 0 1 0 1 0 0 1 
0 1 0 1 0 0 1 0 1 0 
1 0 0 1 0 1 0 1 0 0 
1 0 0 1 0 1 0 1 0 0 
0 0 0 0 0 0 0 1 0 0 
1 0 1 0 1 0 1 0 0 1 
0 0 1 1 1 1 1 1 1 1 
1 0 1 1 1 1 1 1 1 1 

*/

// 0 1 1 0 0 1 0 0 1 0 0 1 0 0 1 1 0 0 1 0 1 0 1 0 0 0 1 1 0 0
// 0 1 1 0 0 1 0 0 1 0 0 1 0 0 1 1 0 0 1 1 1 1 0 0 0 1 1 0


// 00110 10001 01001 11001 00100 00101 10100 10100 01001 00110
// 00110 10001 01001 11001 00100 00101 10100 10100 01001 00110

// 01100 10010 01001 10011 00100 01101 00110 10001 01001
// 00110 10001 01001 11001 00100 00101 10100 10100 01001 00110